extends ../../layout/default.pug

include ../../mixins/showalert.pug

block main
    h1(class="mb-4") Nhóm quyền hạn

    +alertSuccess(5000)
    +alertError(5000)

    if(data)

        div(data-records=data)

        div(class="text-end mb-3")
            button(
                type="submit"
                class="btn btn-primary" 
                button-submit
            ) Cập nhật

        table(class="table table-hover table-sm"
        table-permissions
        )
            thead 
                tr
                    th Tinh năng
                    each item in data
                        th(class="text-center") #{item.title}

            tbody
                tr(data-name="id" hidden)
                    td 
                        each item in data
                            td(class="text-center")
                                input(type="text" value=item._id)

                    //Danh muc san pham
                    tr  
                        td(colspan="4")
                            b   Danh mục sản phẩm
                    tr(data-name="products-categories_view")
                        td Xem
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="products-categories_create")
                        td Them
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="products-categories_edit")
                        td Sua
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="products-categories_delete")
                        td Xoa
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")

                    //Danh sách sản phẩm
                    tr  
                        td(colspan="4")
                            b Danh sách sản phẩm
                    tr(data-name="products_view")
                        td Xem
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="products_create")
                        td Them
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="products_edit")
                        td Sua
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="products_delete")
                        td Xoa
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")

                    //Nhóm quyền hạn
                    tr  
                        td(colspan="4")
                            b Nhóm quyền hạn
                    tr(data-name="roles_view")
                        td Xem
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="roles_create")
                        td Them
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="roles_edit")
                        td Sua
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="roles_delete")
                        td Xoa
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="roles_permissions")
                        td Phân quyền
                        each item in data
                            td(class="text-center")
                                input(type="checkbox")




    form(
        action=`${prefixAdmin}/roles/permissions?_method=PATCH` 
        method="POST" 
        id="form-change-permissions"
    )
        div(class="form-group")
            input(
                type="text"
                class="form-control" 
                name="permissions" 
                hidden
            )

    script(src="/admin/js/roles.js") 
